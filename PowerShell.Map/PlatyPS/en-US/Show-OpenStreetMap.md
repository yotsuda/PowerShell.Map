---
external help file: PowerShell.Map.dll-Help.xml
Module Name: powerShell.Map
online version: https://github.com/yotsuda/PowerShell.Map
schema: 2.0.0
---

# Show-OpenStreetMap

## SYNOPSIS
Displays an interactive 2D/3D map using OpenStreetMap and MapLibre GL JS in the default browser.

## SYNTAX

### SimpleLocation
```
Show-OpenStreetMap [[-Location] <String[]>] [-Zoom <Int32>] [-Duration <Double>] [-Enable3D]
 [-Bearing <Double>] [-Pitch <Double>] [-Description <String>] [-ProgressAction <ActionPreference>]
 [<CommonParameters>]
```

### StructuredLocation
```
Show-OpenStreetMap -Locations <Object[]> [-Zoom <Int32>] [-Duration <Double>] [-Enable3D] [-Bearing <Double>]
 [-Pitch <Double>] [-Description <String>] [-ProgressAction <ActionPreference>] [<CommonParameters>]
```

### Pipeline
```
Show-OpenStreetMap -Latitude <String> -Longitude <String> [-Label <String>] [-Color <String>] [-Zoom <Int32>]
 [-Duration <Double>] [-Enable3D] [-Bearing <Double>] [-Pitch <Double>] [-Description <String>]
 [-ProgressAction <ActionPreference>] [<CommonParameters>]
```

## DESCRIPTION
The Show-OpenStreetMap cmdlet displays an interactive map in your default web browser. You can specify locations using coordinates, place names (geocoding), or display multiple markers. The map is powered by OpenStreetMap and MapLibre GL JS, with a local HTTP server running on port 8765.

The cmdlet supports 3D visualization of buildings and terrain when using the -Enable3D parameter. The 3D view includes dynamically scaled terrain exaggeration (0.3x to 2.0x based on zoom level) for natural-looking mountain visualization, and extruded building shapes in urban areas.

## EXAMPLES

### Example 1: Basic usage
```powershell
# Single location by name
Show-OpenStreetMap "Tokyo Tower"

# By coordinates with zoom
Show-OpenStreetMap -Location "35.6586,139.7454" -Zoom 15

# Multiple locations
Show-OpenStreetMap -Location Tokyo, Osaka, Kyoto
```

Displays map using place names (geocoded), coordinates, or multiple locations as markers.

### Example 2: Structured locations with metadata
```powershell
$locations = @(
    @{ Location = "Tokyo"; Description = "üóº Capital of Japan"; Label = "Êù±‰∫¨"; Color = "red" }
    @{ Location = "Osaka"; Description = "üèØ Second largest city"; Label = "Â§ßÈò™"; Color = "blue" }
    @{ Location = "Kyoto"; Description = "‚õ©Ô∏è Ancient capital"; Label = "‰∫¨ÈÉΩ"; Color = "gold" }
)
Show-OpenStreetMap -Locations $locations
```

Displays markers with custom labels, colors, and clickable descriptions. Supports pipe-delimited strings ("Location|Label|Color") or hashtables.

### Example 3: CSV pipeline
```powershell
Import-Csv locations.csv | Show-OpenStreetMap
```

CSV format: Latitude, Longitude, Label, Color columns. Pipeline automatically maps to marker properties.

### Example 4: 3D visualization
```powershell
Show-OpenStreetMap "35.3606,138.7274" -Enable3D -Zoom 11 -Pitch 70 -Bearing 45
```

Displays Mt. Fuji with 3D terrain. Pitch controls tilt (0-85¬∞), Bearing controls rotation (0-360¬∞).

## PARAMETERS

### -Location
Specifies one or more locations as place names or coordinate strings. Place names are geocoded using the Nominatim API. Coordinate strings should be in "latitude,longitude" format.

When multiple locations are provided, they are displayed as markers on the map, and the map automatically centers and zooms to show all locations.

```yaml
Type: String[]
Parameter Sets: SimpleLocation
Aliases:

Required: False
Position: 0
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -Zoom
Specifies the zoom level (1 to 19). Lower numbers show a larger area, higher numbers show more detail. Default is 13.

```yaml
Type: Int32
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: 13
Accept pipeline input: False
Accept wildcard characters: False
```

### -ProgressAction
Specifies how PowerShell responds to progress updates generated by the cmdlet. Valid values are: Continue, Ignore, Inquire, SilentlyContinue, Stop, Suspend.

```yaml
Type: ActionPreference
Parameter Sets: (All)
Aliases: proga

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -Color
Specifies the marker color when using pipeline input (e.g., from Import-Csv). Available colors: red, blue, green, orange, violet, yellow, grey, black, gold.

```yaml
Type: String
Parameter Sets: Pipeline
Aliases:

Required: False
Position: Named
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -Label
Specifies the marker label when using pipeline input (e.g., from Import-Csv). The label will be displayed when clicking on the marker.

```yaml
Type: String
Parameter Sets: Pipeline
Aliases:

Required: False
Position: Named
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -Latitude
Specifies the latitude coordinate when using pipeline input (e.g., from Import-Csv). Must be used together with -Longitude parameter. Valid range: -90 to 90 degrees.

```yaml
Type: String
Parameter Sets: Pipeline
Aliases:

Required: True
Position: Named
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -Longitude
Specifies the longitude coordinate when using pipeline input (e.g., from Import-Csv). Must be used together with -Latitude parameter. Valid range: -180 to 180 degrees.

```yaml
Type: String
Parameter Sets: Pipeline
Aliases:

Required: True
Position: Named
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -Duration
Specifies the animation duration in seconds (0.0 to 10.0) for map transitions. Set to 0 for instant movement without animation. Default is 1.0 second.

```yaml
Type: Double
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -Bearing
Specifies the camera bearing (rotation) in degrees (0-360). The bearing represents the compass direction the camera is pointing:
- 0 degrees = North (default)
- 90 degrees = East
- 180 degrees = South
- 270 degrees = West

This parameter is useful for orienting the view of 3D terrain features.

```yaml
Type: Double
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: 0
Accept pipeline input: False
Accept wildcard characters: False
```

### -Enable3D
Enables 3D visualization of buildings and terrain. When enabled:
- Buildings are rendered as 3D extruded shapes (at zoom level 14 and above)
- Terrain elevation data is displayed with appropriate exaggeration for visibility
- Default pitch angle is set to 60 degrees for optimal 3D viewing
- Terrain exaggeration scales dynamically based on zoom level (0.3x to 2.0x)

The 3D view can be toggled on/off using the browser interface, and the camera view can be reset using the "Reset View" button.

```yaml
Type: SwitchParameter
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: False
Accept pipeline input: False
Accept wildcard characters: False
```

### -Pitch
Specifies the camera pitch (tilt angle) in degrees (0-85). The pitch controls how much the camera is tilted:
- 0 degrees = Top-down view (default for 2D maps)
- 60 degrees = Default for 3D view (automatically set when -Enable3D is used without explicit -Pitch)
- 85 degrees = Almost horizontal view

Higher pitch values provide a more dramatic 3D perspective, especially for mountainous terrain. This parameter is most useful when -Enable3D is enabled.

```yaml
Type: Double
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: 0
Accept pipeline input: False
Accept wildcard characters: False
```

### -Description
Specifies an optional description text to display for the location. When a marker is clicked on the map, this description will be shown in a draggable information box. The description supports emoji and multi-line text.

This parameter is only available when using the SimpleLocation parameter set with a single location.

```yaml
Type: String
Parameter Sets: (All)
Aliases:

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -Locations
Specifies an array of structured location objects with optional metadata. Each element should be a hashtable or PSObject with the following properties:
- Location (required): Place name or coordinate string
- Description (optional): Text to display when the marker is clicked
- Label (optional): Custom label for the marker (overrides default location name)
- Color (optional): Marker color (e.g., "red", "blue", "#ff0000")

Example:
$locations = @(
    @{ Location = "Tokyo"; Description = "Capital of Japan"; Label = "Êù±‰∫¨"; Color = "red" }
    @{ Location = "Osaka"; Description = "Second largest city"; Color = "blue" }
)
Show-OpenStreetMap -Locations $locations

```yaml
Type: Object[]
Parameter Sets: StructuredLocation
Aliases:

Required: True
Position: Named
Default value: None
Accept pipeline input: True (ByValue)
Accept wildcard characters: False
```

### CommonParameters
This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see [about_CommonParameters](http://go.microsoft.com/fwlink/?LinkID=113216).

## INPUTS

### System.Collections.Hashtable[]
You can pipe an array of hashtables containing marker information to this cmdlet.

## OUTPUTS

### PowerShell.Map.Server.MapMarker
This cmdlet outputs MapMarker objects containing information about the displayed locations, including coordinates, labels, geocoding status, and source information.

## NOTES
- The map server runs on http://localhost:8765/
- Geocoding uses the Nominatim API (https://nominatim.openstreetmap.org/)
- Nominatim has a usage policy of 1 request per second
- The map updates in real-time when you run the cmdlet multiple times
- The browser tab is automatically opened when the server starts
- 3D terrain data is sourced from AWS Terrarium tiles (https://registry.opendata.aws/terrain-tiles/)
- 3D buildings are available at zoom level 14 and above in supported areas
- Terrain exaggeration scales dynamically: 0.3x (urban areas) to 2.0x (mountain regions)
- The 3D toggle and camera reset controls are available in the browser interface

## RELATED LINKS

[Show-OpenStreetMapRoute](Show-OpenStreetMapRoute.md)
[Start-OpenStreetMapTour](Start-OpenStreetMapTour.md)
[OpenStreetMap](https://www.openstreetmap.org/)
[MapLibre GL JS](https://maplibre.org/)
